<?xml version="1.0"?>

<project name="giapi-tester" default="all">
	<import file="../build.xml"/>


     <path id="build.classpath.extra">
        <fileset dir="../../jms/jms-activemq-lib/lib" includes="*.jar"/>
        <fileset dir="../../jms/jms-api/lib" includes="*.jar"/>
        <pathelement path="../../jms/jms-api/bin"/>
        <pathelement path="../../jms/jms-activemq-provider/bin"/>
        <pathelement path="../../giapi-gmp/gmp-api/bin"/>
        <pathelement path="../../giapi-gmp/gmp-util/bin"/>
        <pathelement path="../../giapi-gmp/giapi-obsevents/bin"/>
         <pathelement path="../../giapi-gmp/giapi-fileevents/bin"/>
    </path>

	<!--<fileset id="jar.extra" dir="src" includes="**/*.txt"/>-->
    <fileset id="jar.extra" dir="../../giapi-gmp/gmp-api/bin" includes="*"/>

	<!-- This overrides what is in common.xml -->
	<target name="-all" depends="-explode, -compile, -jar-src, -jar" if="ant.project.name"/>

    <target name="-explode">
        <unjar dest="bin">
           <fileset dir="../../jms/jms-api/lib" includes="*.jar"/>
           <fileset dir="../../jms/jms-activemq-lib/lib" includes="*.jar"/>
        </unjar>

        <copy todir="bin">
           <fileset dir="../../jms/jms-api/bin"/>
           <fileset dir="../../jms/jms-activemq-provider/bin"/>
           <fileset dir="../../giapi-gmp/gmp-api/bin"/>
           <fileset dir="../../giapi-gmp/gmp-util/bin"/>
           <fileset dir="../../giapi-gmp/giapi-obsevents/bin"/>
           <fileset dir="../../giapi-gmp/giapi-fileevents/bin"/>
        </copy>
        <!--<delete dir="bin/META-INF"/>-->
    </target>

</project>


